# ==============================================================================
# CONFIGURA√á√ÉO B√ÅSICA DO PROJETO (SEM XRC)
# ==============================================================================
cmake_minimum_required(VERSION 3.16)
project(HelloWx LANGUAGES CXX)

# ----------------------------------------
# Padr√µes de C++
# ----------------------------------------
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# ----------------------------------------
# Op√ß√µes de build para debug
# ----------------------------------------
set(CMAKE_VERBOSE_MAKEFILE ON)
set(CMAKE_EXPORT_COMPILE_COMMANDS ON)

# ----------------------------------------
# Log do build
# ----------------------------------------
message(STATUS "========================================")
message(STATUS "  üîç Build System Info")
message(
  STATUS "    ‚Ä¢ OS:           ${CMAKE_SYSTEM_NAME} ${CMAKE_SYSTEM_VERSION}")
message(STATUS "    ‚Ä¢ Arch:         ${CMAKE_SYSTEM_PROCESSOR}")
message(STATUS "    ‚Ä¢ Generator:    ${CMAKE_GENERATOR}")
message(
  STATUS
    "    ‚Ä¢ C++ Compiler: ${CMAKE_CXX_COMPILER_ID} ${CMAKE_CXX_COMPILER_VERSION}"
)
message(STATUS "========================================")

# ==============================================================================
# LOCALIZA√á√ÉO E LINKAGEM DO WXWIDGETS
# ==============================================================================

# Procura o pacote wxWidgets (apenas base + core)
find_package(wxWidgets REQUIRED COMPONENTS core base)

# Inclui as vari√°veis do m√≥dulo FindwxWidgets
include(${wxWidgets_USE_FILE})

# ==============================================================================
# FONTES E EXECUT√ÅVEL
# ==============================================================================

# S√≥ temos um √∫nico fonte: src/main.cpp
add_executable(${PROJECT_NAME} src/main.cpp)

# Aplica flags de compila√ß√£o e define includes
target_compile_options(${PROJECT_NAME} PRIVATE ${wxWidgets_CXX_FLAGS})
target_include_directories(${PROJECT_NAME} PRIVATE ${wxWidgets_INCLUDE_DIRS})

# Linka com as libs do wxWidgets encontradas
target_link_libraries(${PROJECT_NAME} PRIVATE ${wxWidgets_LIBRARIES})

# ==============================================================================
# DIAGN√ìSTICO FINAL
# ==============================================================================
message(STATUS "‚Üí Projeto:        ${PROJECT_NAME}")
message(STATUS "‚Üí Fonte:          src/main.cpp")
message(STATUS "‚Üí wxWidgets ver:  ${wxWidgets_VERSION}")
message(STATUS "‚Üí wx_INCLUDE_DIR: ${wxWidgets_INCLUDE_DIRS}")
message(STATUS "‚Üí wx_LIBRARIES:   ${wxWidgets_LIBRARIES}")
message(STATUS "========================================")
